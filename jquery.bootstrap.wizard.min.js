/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Supports Bootstrap 2.2.x, 2.3.x, 3.0
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
;(function(b){var a=function(e,d){var e=b(e);var g=this;var c=b.extend({},b.fn.bootstrapWizard.defaults,d);var f=null;var h=null;this.rebindClick=function(i,j){i.unbind("click",j).bind("click",j)};this.fixNavigationButtons=function(){if(!f.length){h.find("a:first").tab("show");f=h.find("li:first")}b(c.previousSelector,e).toggleClass("disabled",(g.firstIndex()>=g.currentIndex()));b(c.nextSelector,e).toggleClass("disabled",(g.currentIndex()>=g.navigationLength()));g.rebindClick(b(c.nextSelector,e),g.next);g.rebindClick(b(c.previousSelector,e),g.previous);g.rebindClick(b(c.lastSelector,e),g.last);g.rebindClick(b(c.firstSelector,e),g.first);if(c.onTabShow&&typeof c.onTabShow==="function"&&c.onTabShow(f,h,g.currentIndex())===false){return false}};this.next=function(i){$index=g.nextIndex();if(c.skipDisabled==true){while(h.find("li:eq("+$index+") a").parent().hasClass("disabled")){$index++}}if(e.hasClass("last")){return false}if(c.onNext&&typeof c.onNext==="function"&&c.onNext(f,h,g.nextIndex())===false){return false}if($index>g.navigationLength()){}else{h.find("li:eq("+$index+") a").tab("show")}};this.previous=function(i){$index=g.previousIndex();if(c.skipDisabled==true){while(h.find("li:eq("+$index+") a").parent().hasClass("disabled")){$index--}}if(e.hasClass("first")){return false}if(c.onPrevious&&typeof c.onPrevious==="function"&&c.onPrevious(f,h,g.previousIndex())===false){return false}if($index<0){}else{h.find("li:eq("+$index+") a").tab("show")}};this.first=function(i){if(c.onFirst&&typeof c.onFirst==="function"&&c.onFirst(f,h,g.firstIndex())===false){return false}if(e.hasClass("disabled")){return false}h.find("li:eq(0) a").tab("show")};this.last=function(i){if(c.onLast&&typeof c.onLast==="function"&&c.onLast(f,h,g.lastIndex())===false){return false}if(e.hasClass("disabled")){return false}h.find("li:eq("+g.navigationLength()+") a").tab("show")};this.currentIndex=function(){return h.find("li").index(f)};this.firstIndex=function(){return 0};this.lastIndex=function(){return g.navigationLength()};this.getIndex=function(i){return h.find("li").index(i)};this.nextIndex=function(){return h.find("li").index(f)+1};this.previousIndex=function(){return h.find("li").index(f)-1};this.navigationLength=function(){return h.find("li").length-1};this.activeTab=function(){return f};this.nextTab=function(){return h.find("li:eq("+(g.currentIndex()+1)+")").length?h.find("li:eq("+(g.currentIndex()+1)+")"):null};this.previousTab=function(){if(g.currentIndex()<=0){return null}return h.find("li:eq("+parseInt(g.currentIndex()-1)+")")};this.show=function(i){return e.find("li:eq("+i+") a").tab("show")};this.disable=function(i){h.find("li:eq("+i+")").addClass("disabled")};this.enable=function(i){h.find("li:eq("+i+")").removeClass("disabled")};this.hide=function(i){h.find("li:eq("+i+")").hide()};this.display=function(i){h.find("li:eq("+i+")").show()};this.remove=function(k){var i=k[0];var l=typeof k[1]!="undefined"?k[1]:false;var j=h.find("li:eq("+i+")");if(l){var m=j.find("a").attr("href");b(m).remove()}j.remove()};h=e.find("ul:first",e);f=h.find("li.active",e);if(!h.hasClass(c.tabClass)){h.addClass(c.tabClass)}if(c.onInit&&typeof c.onInit==="function"){c.onInit(f,h,0)}if(c.onShow&&typeof c.onShow==="function"){c.onShow(f,h,g.nextIndex())}g.fixNavigationButtons();b('a[data-toggle="tab"]',h).on("click",function(j){var i=h.find("li").index(b(j.currentTarget).parent("li"));if(c.onTabClick&&typeof c.onTabClick==="function"&&c.onTabClick(f,h,g.currentIndex(),i)===false){return false}});b('a[data-toggle="tab"]',h).on("shown",function(j){$element=b(j.target).parent();var i=h.find("li").index($element);if($element.hasClass("disabled")){return false}if(c.onTabChange&&typeof c.onTabChange==="function"&&c.onTabChange(f,h,g.currentIndex(),i)===false){return false}f=$element;g.fixNavigationButtons()})};b.fn.bootstrapWizard=function(d){if(typeof d=="string"){var c=Array.prototype.slice.call(arguments,1);if(c.length===1){c.toString()}return this.data("bootstrapWizard")[d](c)}return this.each(function(e){var f=b(this);if(f.data("bootstrapWizard")){return}var g=new a(f,d);f.data("bootstrapWizard",g)})};b.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",skipDisabled:true,onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);
