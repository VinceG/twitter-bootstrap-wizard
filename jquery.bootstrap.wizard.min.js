/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
(function(e){var t=function(t,n){var t=e(t);var r=this;var i=e.extend({},e.fn.bootstrapWizard.defaults,n);var s=null;var o=null;this.fixNavigationButtons=function(){if(!s.length){o.find("a:first").tab("show");s=o.find("li:first")}if(r.firstIndex()>=r.currentIndex()){e(i.previousSelector,t).addClass("disabled").attr("disabled","").mouseout()}else{e(i.previousSelector,t).removeClass("disabled").removeAttr("disabled")}if(r.currentIndex()>=r.navigationLength()){e(i.nextSelector,t).addClass("disabled").attr("disabled","").mouseout()}else{e(i.nextSelector,t).removeClass("disabled").removeAttr("disabled")}e(i.nextSelector,t).unbind("click",r.next);e(i.previousSelector,t).unbind("click",r.previous);e(i.lastSelector,t).unbind("click",r.last);e(i.firstSelector,t).unbind("click",r.first);e(i.nextSelector,t).one("click",r.next);e(i.previousSelector,t).one("click",r.previous);e(i.lastSelector,t).one("click",r.last);e(i.firstSelector,t).one("click",r.first);if(i.onTabShow&&typeof i.onTabShow==="function"&&i.onTabShow(s,o,r.currentIndex())===false){return false}};this.next=function(e){if(t.hasClass("last")){return false}if(i.onNext&&typeof i.onNext==="function"&&i.onNext(s,o,r.nextIndex())===false){return false}$index=r.nextIndex();if($index>r.navigationLength()){}else{o.find("li:eq("+$index+") a").tab("show")}};this.previous=function(e){if(t.hasClass("first")){return false}if(i.onPrevious&&typeof i.onPrevious==="function"&&i.onPrevious(s,o,r.previousIndex())===false){return false}$index=r.previousIndex();if($index<0){}else{o.find("li:eq("+$index+") a").tab("show")}};this.first=function(e){if(i.onFirst&&typeof i.onFirst==="function"&&i.onFirst(s,o,r.firstIndex())===false){return false}if(t.hasClass("disabled")){return false}o.find("li:eq(0) a").tab("show")};this.last=function(e){if(i.onLast&&typeof i.onLast==="function"&&i.onLast(s,o,r.lastIndex())===false){return false}if(t.hasClass("disabled")){return false}o.find("li:eq("+r.navigationLength()+") a").tab("show")};this.currentIndex=function(){return o.find("li").index(s)};this.firstIndex=function(){return 0};this.lastIndex=function(){return r.navigationLength()};this.getIndex=function(e){return o.find("li").index(e)};this.nextIndex=function(){return o.find("li").index(s)+1};this.previousIndex=function(){return o.find("li").index(s)-1};this.navigationLength=function(){return o.find("li").length-1};this.activeTab=function(){return s};this.nextTab=function(){return o.find("li:eq("+(r.currentIndex()+1)+")").length?o.find("li:eq("+(r.currentIndex()+1)+")"):null};this.previousTab=function(){if(r.currentIndex()<=0){return null}return o.find("li:eq("+parseInt(r.currentIndex()-1)+")")};this.show=function(e){return t.find("li:eq("+e+") a").tab("show")};o=t.find("ul:first",t);s=o.find("li.active",t);if(!o.hasClass(i.tabClass)){o.addClass(i.tabClass)}if(i.onInit&&typeof i.onInit==="function"){i.onInit(s,o,0)}if(i.onShow&&typeof i.onShow==="function"){i.onShow(s,o,r.nextIndex())}r.fixNavigationButtons();e('a[data-toggle="tab"]',t).on("click",function(t){var n=o.find("li").index(e(t.currentTarget).parent("li"));if(i.onTabClick&&typeof i.onTabClick==="function"&&i.onTabClick(s,o,r.currentIndex(),n)===false){return false}});e('a[data-toggle="tab"]',t).on("shown",function(t){$element=e(t.target).parent();if($element.hasClass("disabled")){return false}s=$element;r.fixNavigationButtons()})};e.fn.bootstrapWizard=function(n){if(typeof n=="string"){var r=Array.prototype.slice.call(arguments,1).toString();return this.data("bootstrapWizard")[n](r)}return this.each(function(r){var i=e(this);if(i.data("bootstrapWizard"))return;var s=new t(i,n);i.data("bootstrapWizard",s)})};e.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabClick:null,onTabShow:null}})(jQuery)
